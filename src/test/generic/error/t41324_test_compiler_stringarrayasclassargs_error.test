## -*- mode:ulam -*-
#=t41324_test_compiler_stringarrayasclassargs_error
#!
./Foo.ulam:6:5: ERROR: Class arguments of type String are limited to scalars by MFM::UlamTypeInfo: String[3] (arg 3) in class Booly(0u,2u,077477696e6b6c65066c6974746c650473746172).
Unrecoverable Program Type Label FAILURE.
##
##      //informed by code review for m_state.isAStringType, which didn't include arrays. oops.
##
#>Foo.ulam
ulam 5;
local typedef String SArr[3];
local constant SArr cSArr = { "twinkle", "little", "star" };
element Foo{
  Int test(){
    Booly(0u, 2u, cSArr) b;
    return b.behave();
  }
}

#:Booly.ulam
  ulam 5;
local typedef String SArr[3];
quark Booly(Unsigned(3) firstRange, Unsigned(3) lastRange, SArr bomb) {
  Bool behave(){
    if(bomb && lastRange != firstRange) return true;
    return false;
  }
}
#.
